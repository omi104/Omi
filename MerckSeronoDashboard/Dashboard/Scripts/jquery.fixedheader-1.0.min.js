(function(a){a.fn.FixHeader=function(d){var e="#"+a(this).attr("id");var h=a(e+" thead").css("background-color");if(h=="transparent"){h="white";a(e+" thead").css("background-color","white")}a(this).parent().append("<div id='FixedHeaderContainer' style='background:"+h+"'><table id='FixedHeader'></table></div>");a(e+" thead").clone().appendTo("#FixedHeader");var c=a(this).attr("class");a("#FixedHeader").attr("class",c);a("#FixedHeader").css("z-index","10");a("#FixedHeader").css("border-collapse","collapse");a("#FixedHeader").css("position","fixed");if(a.browser.msie&&a.browser.version.substr(0,1)<7){a("#FixedHeader").css("position","absolute")}g();a("#FixedHeaderContainer").hide();var b=a(this).offset().top;var f=a(this).offset().left;a(window).scroll(function(){var i=a(document).scrollTop();var j=a(document).scrollLeft();if(i>b){a("#FixedHeaderContainer").show();if(a("#FixedHeader").css("position")=="absolute"){a("#FixedHeader").css("top",i+"px");a("#FixedHeaderContainer").css("left",(f-j)+"px")}else{a("#FixedHeader").css("margin","0px 0px 0px 0px");a("#FixedHeader").css("top","0px");a("#FixedHeader").css("left",(f-j)+"px")}}else{a("#FixedHeaderContainer").hide()}});function g(){var i=a(e).outerWidth(true);var l=a(e+" thead td");var m=a("#FixedHeader thead td");for(var k=0;k<l.length;k++){if(a(m[k]).attr("colspan")&&d){a(m[k]).attr("colspan","1")}a(m[k]).width(a(l[k]).width())}a("#FixedHeader").width(i)}a(window).resize(function(){g()});return a(this)}})(jQuery);